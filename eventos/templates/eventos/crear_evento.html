{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Crear nuevo evento</title>
    <link rel="stylesheet" href="{% static 'css_generales/crear_evento.html.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>

    <!-- Top bar -->
    <header class="top-bar">
        <div class="top-bar-container">
            <div class="logo-title">
                <img src="{% static 'fondos/logosena.png' %}" alt="Logo SENA" class="mini-logo">
                <h1 class="site-title">ADMINISTRADOR</h1>
            </div>
            <nav class="top-menu">
                <a href="{% url 'inicio_admin' %}" class="logout-link">
                    <i class="fa-solid fa-arrow-left"></i> Volver
                </a>
            </nav>
        </div>
    </header>

    <!-- Contenedor principal -->
    <div class="page-container">
        <div class="container-card fade-in">

            {% if form.errors %}
            <div class="alert alert-danger" style="color: red; font-weight: bold; margin-bottom: 20px;">
                <h4>Errores en el formulario:</h4>
                <ul>
                {% for field, errors in form.errors.items %}
                    <li>{{ field }}: {{ errors|striptags }}</li>
                {% endfor %}
                </ul>
            </div>
            {% endif %}

            <div class="events-header">
                <h2><i class="fa-solid fa-calendar-plus"></i> Crear nuevo evento</h2>
            </div>

            <form method="post" enctype="multipart/form-data" class="form-layout">
                {% csrf_token %}

                <div class="three-grid">
                    <!-- Columna IZQUIERDA: imagen grande (llamada desde HTML) -->
                    <div class="col image-col">
                        <div class="img-wrap">
                            <img src="{% static 'fondos/imagen9.jpg' %}" alt="Imagen evento" class="side-image">
                        </div>
                    </div>

                    <!-- Columna CENTRAL: nombre, categoría, descripción, subir imagen, checkboxes inscripciones -->
                    <div class="col center-col">
                        <div class="form-group">
                            {{ form.nombre.label_tag }}
                            {{ form.nombre }}
                        </div>

                        <div class="form-group">
                            {{ form.categoria.label_tag }}
                            {{ form.categoria }}
                        </div>

                        <div class="form-group">
                            {{ form.descripcion.label_tag }}
                            {{ form.descripcion }}
                        </div>

                        <div class="form-group small">
                            {{ form.imagen.label_tag }}
                            {{ form.imagen }}
                        </div>

                        <div class="form-group">
                            {{ form.costo_inscripcion.label_tag }}
                            {{ form.costo_inscripcion }}
                        </div>

                    </div>
                    
                    <!-- Columna DERECHA: fechas, ciudad, lugar, cupos, requiere evaluación -->
                    <div class="col right-col">
                        <div class="form-group">
                            {{ form.fecha_inicio.label_tag }}
                            {{ form.fecha_inicio }}
                        </div>

                        <div class="form-group">
                            {{ form.hora_inicio.label_tag }}
                            {{ form.hora_inicio }}
                        </div>

                        <div class="form-group">
                            {{ form.fecha_fin.label_tag }}
                            {{ form.fecha_fin }}
                        </div>

                        <div class="form-group">
                            {{ form.hora_fin.label_tag }}
                            {{ form.hora_fin }}
                        </div>

                        <div class="form-group">
                            {{ form.ciudad.label_tag }}
                            {{ form.ciudad }}
                        </div>

                        <div class="form-group">
                            {{ form.lugar.label_tag }}
                            {{ form.lugar }}
                        </div>

                        <div class="form-group">
                            {{ form.cupos.label_tag }}
                            {{ form.cupos }}
                        </div>

                        <div class="form-group">
                            {{ form.requiere_evaluacion.label_tag }}
                            {{ form.requiere_evaluacion }}
                        </div>
                        <!-- Checkboxes de inscripciones (moved to center) -->
                        <div class="checkbox-group center-checkboxes">
                            <label>{{ form.inscripciones_participante }} Habilitar inscripciones para participantes</label>
                            <label>{{ form.inscripciones_evaluador }} Habilitar inscripciones para evaluadores</label>
                            <label>{{ form.inscripciones_asistente }} Habilitar inscripciones para asistentes</label>
                        </div>
                    </div>
                </div>
                
                <!-- Checkboxes (if any remain) and botón -->
                <div class="checkboxes-and-actions">
                    <!-- si quieres mantener aquí otros checkboxes, se pueden agregar -->
                    <div class="button-group">
                        <button type="submit" class="btn primary-btn">
                            <i class="fa-solid fa-floppy-disk"></i> Guardar evento
                        </button>
                    </div>
                </div>

            </form>
        </div>
    </div>

</body>
</html>
        {% if eventos_creados is not None and max_events is not None %}
        <div class="alert alert-info" style="margin: 20px; color: #0a58ca; font-weight: bold;">
            Has creado {{ eventos_creados }} de {{ max_events }} eventos permitidos.
        </div>
        {% endif %}
